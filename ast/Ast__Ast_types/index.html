<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ast__Ast_types (ast.Ast__Ast_types)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ast</a> &#x00BB; Ast__Ast_types</nav><h1>Module <code>Ast__Ast_types</code></h1><p>These are the types used in constructing any AST for a Bolt program. Bolt programs consist of a list of class definitions, followed by a list of function definitions and finally an expression to execute.</p></header><dl><dt class="spec type" id="type-loc"><a href="#type-loc" class="anchor"></a><code><span class="keyword">type</span> loc</code><code> = Stdlib.Lexing.position</code></dt><dd><p>Stores the line and position of the token</p></dd></dl><dl><dt class="spec module-type" id="module-type-ID"><a href="#module-type-ID" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-ID/index.html">ID</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>An abstract type for identifiers</p></dd></dl><aside><p>We distinguish the different identifiers for variables, classes, traits and fields.</p></aside><div class="spec module" id="module-Var_name"><a href="#module-Var_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Var_name/index.html">Var_name</a> : <a href="index.html#module-type-ID">ID</a></code></div><div class="spec module" id="module-Class_name"><a href="#module-Class_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Class_name/index.html">Class_name</a> : <a href="index.html#module-type-ID">ID</a></code></div><div class="spec module" id="module-Capability_name"><a href="#module-Capability_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Capability_name/index.html">Capability_name</a> : <a href="index.html#module-type-ID">ID</a></code></div><div class="spec module" id="module-Field_name"><a href="#module-Field_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Field_name/index.html">Field_name</a> : <a href="index.html#module-type-ID">ID</a></code></div><div class="spec module" id="module-Method_name"><a href="#module-Method_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Method_name/index.html">Method_name</a> : <a href="index.html#module-type-ID">ID</a></code></div><div class="spec module" id="module-Function_name"><a href="#module-Function_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Function_name/index.html">Function_name</a> : <a href="index.html#module-type-ID">ID</a></code></div><dl><dt class="spec type" id="type-mode"><a href="#type-mode" class="anchor"></a><code><span class="keyword">type</span> mode</code><code> = </code><table class="variant"><tr id="type-mode.Linear" class="anchored"><td class="def constructor"><a href="#type-mode.Linear" class="anchor"></a><code>| </code><code><span class="constructor">Linear</span></code></td><td class="doc"><p>Only permitted one alias to the object at any time</p></td></tr><tr id="type-mode.ThreadLocal" class="anchored"><td class="def constructor"><a href="#type-mode.ThreadLocal" class="anchor"></a><code>| </code><code><span class="constructor">ThreadLocal</span></code></td><td class="doc"><p>Permitted multiple aliases but only within the same thread</p></td></tr><tr id="type-mode.Read" class="anchored"><td class="def constructor"><a href="#type-mode.Read" class="anchor"></a><code>| </code><code><span class="constructor">Read</span></code></td><td class="doc"><p>Allowed access through multiple aliases but the object must be immutable</p></td></tr><tr id="type-mode.Locked" class="anchored"><td class="def constructor"><a href="#type-mode.Locked" class="anchor"></a><code>| </code><code><span class="constructor">Locked</span></code></td><td class="doc"><p>Freely sharable amongst threads, operations protected by a lock on the object</p></td></tr><tr id="type-mode.ThreadSafe" class="anchored"><td class="def constructor"><a href="#type-mode.ThreadSafe" class="anchor"></a><code>| </code><code><span class="constructor">ThreadSafe</span></code></td><td class="doc"><p>Abstracts locked + read - these are objects that are allowed access in multiple threads</p></td></tr><tr id="type-mode.Subordinate" class="anchored"><td class="def constructor"><a href="#type-mode.Subordinate" class="anchor"></a><code>| </code><code><span class="constructor">Subordinate</span></code></td><td class="doc"><p>Only accessible from within encapsulating object - inherits capability of owner</p></td></tr><tr id="type-mode.Encapsulated" class="anchored"><td class="def constructor"><a href="#type-mode.Encapsulated" class="anchor"></a><code>| </code><code><span class="constructor">Encapsulated</span></code></td><td class="doc"><p>All capabilities are subordinate - fully encapsulated</p></td></tr></table></dt><dd><p>Define modes for data references</p></dd></dl><dl><dt class="spec type" id="type-modifier"><a href="#type-modifier" class="anchor"></a><code><span class="keyword">type</span> modifier</code><code> = </code><table class="variant"><tr id="type-modifier.MConst" class="anchored"><td class="def constructor"><a href="#type-modifier.MConst" class="anchor"></a><code>| </code><code><span class="constructor">MConst</span></code></td><td class="doc"><p>Immutable</p></td></tr><tr id="type-modifier.MVar" class="anchored"><td class="def constructor"><a href="#type-modifier.MVar" class="anchor"></a><code>| </code><code><span class="constructor">MVar</span></code></td><td class="doc"><p>Mutable</p></td></tr></table></dt><dd><p>Determines whether field is (im)mutable</p></dd></dl><dl><dt class="spec type" id="type-borrowed_ref"><a href="#type-borrowed_ref" class="anchor"></a><code><span class="keyword">type</span> borrowed_ref</code><code> = </code><table class="variant"><tr id="type-borrowed_ref.Borrowed" class="anchored"><td class="def constructor"><a href="#type-borrowed_ref.Borrowed" class="anchor"></a><code>| </code><code><span class="constructor">Borrowed</span></code></td></tr></table></dt><dd><p>determines if a reference is being borrowed for that scope</p></dd></dl><dl><dt class="spec type" id="type-generic_type"><a href="#type-generic_type" class="anchor"></a><code><span class="keyword">type</span> generic_type</code><code> = </code><table class="variant"><tr id="type-generic_type.Generic" class="anchored"><td class="def constructor"><a href="#type-generic_type.Generic" class="anchor"></a><code>| </code><code><span class="constructor">Generic</span></code></td></tr></table></dt><dd><p>If class is type-parameterised</p></dd></dl><dl><dt class="spec type" id="type-type_expr"><a href="#type-type_expr" class="anchor"></a><code><span class="keyword">type</span> type_expr</code><code> = </code><table class="variant"><tr id="type-type_expr.TEInt" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEInt" class="anchor"></a><code>| </code><code><span class="constructor">TEInt</span></code></td></tr><tr id="type-type_expr.TEClass" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEClass" class="anchor"></a><code>| </code><code><span class="constructor">TEClass</span> <span class="keyword">of</span> <a href="Class_name/index.html#type-t">Class_name.t</a> * <span><a href="index.html#type-type_expr">type_expr</a> option</span></code></td><td class="doc"><p>optionally specify type parameters - for generic classes</p></td></tr><tr id="type-type_expr.TEVoid" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEVoid" class="anchor"></a><code>| </code><code><span class="constructor">TEVoid</span></code></td></tr><tr id="type-type_expr.TEBool" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEBool" class="anchor"></a><code>| </code><code><span class="constructor">TEBool</span></code></td></tr><tr id="type-type_expr.TEGeneric" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEGeneric" class="anchor"></a><code>| </code><code><span class="constructor">TEGeneric</span></code></td></tr></table></dt><dd><p>Define types of expressions in Bolt programs</p></dd></dl><dl><dt class="spec type" id="type-field_defn"><a href="#type-field_defn" class="anchor"></a><code><span class="keyword">type</span> field_defn</code><code> = </code><table class="variant"><tr id="type-field_defn.TField" class="anchored"><td class="def constructor"><a href="#type-field_defn.TField" class="anchor"></a><code>| </code><code><span class="constructor">TField</span> <span class="keyword">of</span> <a href="index.html#type-modifier">modifier</a> * <a href="index.html#type-type_expr">type_expr</a> * <a href="Field_name/index.html#type-t">Field_name.t</a> * <span><a href="Capability_name/index.html#type-t">Capability_name.t</a> list</span></code></td></tr></table></dt><dd><p>Class Field declarations are of the form &quot;modifier type name : capabilities&quot; e.g. const int f : cap_1</p></dd></dl><dl><dt class="spec type" id="type-capability"><a href="#type-capability" class="anchor"></a><code><span class="keyword">type</span> capability</code><code> = </code><table class="variant"><tr id="type-capability.TCapability" class="anchored"><td class="def constructor"><a href="#type-capability.TCapability" class="anchor"></a><code>| </code><code><span class="constructor">TCapability</span> <span class="keyword">of</span> <a href="index.html#type-mode">mode</a> * <a href="Capability_name/index.html#type-t">Capability_name.t</a></code></td></tr></table></dt><dd><p>Capabilities consist of a mode and a name</p></dd></dl><dl><dt class="spec type" id="type-param"><a href="#type-param" class="anchor"></a><code><span class="keyword">type</span> param</code><code> = </code><table class="variant"><tr id="type-param.TParam" class="anchored"><td class="def constructor"><a href="#type-param.TParam" class="anchor"></a><code>| </code><code><span class="constructor">TParam</span> <span class="keyword">of</span> <a href="index.html#type-type_expr">type_expr</a> * <a href="Var_name/index.html#type-t">Var_name.t</a> * <span><span><a href="Capability_name/index.html#type-t">Capability_name.t</a> list</span> option</span> * <span><a href="index.html#type-borrowed_ref">borrowed_ref</a> option</span></code></td></tr></table></dt><dd><p>Parameter of a function can optionally restrict capabilities used, and may be &quot;borrowed&quot;.</p></dd></dl><dl><dt class="spec value" id="val-get_params_types"><a href="#val-get_params_types" class="anchor"></a><code><span class="keyword">val</span> get_params_types : <span><a href="index.html#type-param">param</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-type_expr">type_expr</a> list</span></code></dt></dl><aside><p>Binary operators for expressions</p></aside><dl><dt class="spec type" id="type-bin_op"><a href="#type-bin_op" class="anchor"></a><code><span class="keyword">type</span> bin_op</code><code> = </code><table class="variant"><tr id="type-bin_op.BinOpPlus" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpPlus" class="anchor"></a><code>| </code><code><span class="constructor">BinOpPlus</span></code></td></tr><tr id="type-bin_op.BinOpMinus" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpMinus" class="anchor"></a><code>| </code><code><span class="constructor">BinOpMinus</span></code></td></tr><tr id="type-bin_op.BinOpMult" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpMult" class="anchor"></a><code>| </code><code><span class="constructor">BinOpMult</span></code></td></tr><tr id="type-bin_op.BinOpIntDiv" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpIntDiv" class="anchor"></a><code>| </code><code><span class="constructor">BinOpIntDiv</span></code></td></tr><tr id="type-bin_op.BinOpRem" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpRem" class="anchor"></a><code>| </code><code><span class="constructor">BinOpRem</span></code></td></tr><tr id="type-bin_op.BinOpLessThan" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpLessThan" class="anchor"></a><code>| </code><code><span class="constructor">BinOpLessThan</span></code></td></tr><tr id="type-bin_op.BinOpLessThanEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpLessThanEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpLessThanEq</span></code></td></tr><tr id="type-bin_op.BinOpGreaterThan" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpGreaterThan" class="anchor"></a><code>| </code><code><span class="constructor">BinOpGreaterThan</span></code></td></tr><tr id="type-bin_op.BinOpGreaterThanEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpGreaterThanEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpGreaterThanEq</span></code></td></tr><tr id="type-bin_op.BinOpAnd" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpAnd" class="anchor"></a><code>| </code><code><span class="constructor">BinOpAnd</span></code></td></tr><tr id="type-bin_op.BinOpOr" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpOr" class="anchor"></a><code>| </code><code><span class="constructor">BinOpOr</span></code></td></tr><tr id="type-bin_op.BinOpEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpEq</span></code></td></tr><tr id="type-bin_op.BinOpNotEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpNotEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpNotEq</span></code></td></tr></table></dt><dt class="spec type" id="type-un_op"><a href="#type-un_op" class="anchor"></a><code><span class="keyword">type</span> un_op</code><code> = </code><table class="variant"><tr id="type-un_op.UnOpNot" class="anchored"><td class="def constructor"><a href="#type-un_op.UnOpNot" class="anchor"></a><code>| </code><code><span class="constructor">UnOpNot</span></code></td></tr><tr id="type-un_op.UnOpNeg" class="anchored"><td class="def constructor"><a href="#type-un_op.UnOpNeg" class="anchor"></a><code>| </code><code><span class="constructor">UnOpNeg</span></code></td></tr></table></dt></dl><aside><p>Various helper functions to convert types to equivalent string representations</p></aside><dl><dt class="spec value" id="val-string_of_loc"><a href="#val-string_of_loc" class="anchor"></a><code><span class="keyword">val</span> string_of_loc : <a href="index.html#type-loc">loc</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_mode"><a href="#val-string_of_mode" class="anchor"></a><code><span class="keyword">val</span> string_of_mode : <a href="index.html#type-mode">mode</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_cap"><a href="#val-string_of_cap" class="anchor"></a><code><span class="keyword">val</span> string_of_cap : <a href="index.html#type-capability">capability</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_modifier"><a href="#val-string_of_modifier" class="anchor"></a><code><span class="keyword">val</span> string_of_modifier : <a href="index.html#type-modifier">modifier</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_type"><a href="#val-string_of_type" class="anchor"></a><code><span class="keyword">val</span> string_of_type : <a href="index.html#type-type_expr">type_expr</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_bin_op"><a href="#val-string_of_bin_op" class="anchor"></a><code><span class="keyword">val</span> string_of_bin_op : <a href="index.html#type-bin_op">bin_op</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_un_op"><a href="#val-string_of_un_op" class="anchor"></a><code><span class="keyword">val</span> string_of_un_op : <a href="index.html#type-un_op">un_op</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_maybe_borrowed_ref"><a href="#val-string_of_maybe_borrowed_ref" class="anchor"></a><code><span class="keyword">val</span> string_of_maybe_borrowed_ref : <span><a href="index.html#type-borrowed_ref">borrowed_ref</a> option</span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_maybe_generic"><a href="#val-string_of_maybe_generic" class="anchor"></a><code><span class="keyword">val</span> string_of_maybe_generic : <span><a href="index.html#type-generic_type">generic_type</a> option</span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_maybe_superclass"><a href="#val-string_of_maybe_superclass" class="anchor"></a><code><span class="keyword">val</span> string_of_maybe_superclass : <span><a href="Class_name/index.html#type-t">Class_name.t</a> option</span> <span>&#45;&gt;</span> string</code></dt></dl><aside><p>Exceptions</p></aside><dl><dt class="spec exception" id="exception-NotDesugaredGenericType"><a href="#exception-NotDesugaredGenericType" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">NotDesugaredGenericType</span> <span class="keyword">of</span> string</code></dt><dd><p>Thrown if a later compiler stage encounters generic types when it expects it to be desugared</p></dd></dl></div></body></html>