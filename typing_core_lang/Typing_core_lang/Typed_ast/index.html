<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Typed_ast (typing_core_lang.Typing_core_lang.Typed_ast)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">typing_core_lang</a> &#x00BB; <a href="../index.html">Typing_core_lang</a> &#x00BB; Typed_ast</nav><h1>Module <code>Typing_core_lang.Typed_ast</code></h1></header><aside><p>The typed AST consists of the original AST but augmented with type information.</p></aside><dl><dt class="spec type" id="type-expr"><a href="#type-expr" class="anchor"></a><code><span class="keyword">type</span> expr</code><code> = </code><table class="variant"><tr id="type-expr.Unit" class="anchored"><td class="def constructor"><a href="#type-expr.Unit" class="anchor"></a><code>| </code><code><span class="constructor">Unit</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a></code></td><td class="doc"><p>no need for type_expr annotation as obviously TUnit</p></td></tr><tr id="type-expr.Integer" class="anchored"><td class="def constructor"><a href="#type-expr.Integer" class="anchor"></a><code>| </code><code><span class="constructor">Integer</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * int</code></td><td class="doc"><p>no need for type_expr annotation as obviously TEInt</p></td></tr><tr id="type-expr.Variable" class="anchored"><td class="def constructor"><a href="#type-expr.Variable" class="anchor"></a><code>| </code><code><span class="constructor">Variable</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a></code></td></tr><tr id="type-expr.App" class="anchored"><td class="def constructor"><a href="#type-expr.App" class="anchor"></a><code>| </code><code><span class="constructor">App</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Function_name/index.html#type-t">Ast.Ast_types.Function_name.t</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr><tr id="type-expr.Block" class="anchored"><td class="def constructor"><a href="#type-expr.Block" class="anchor"></a><code>| </code><code><span class="constructor">Block</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td><td class="doc"><p>type is of the final expr in block</p></td></tr><tr id="type-expr.Let" class="anchored"><td class="def constructor"><a href="#type-expr.Let" class="anchor"></a><code>| </code><code><span class="constructor">Let</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="index.html#type-expr">expr</a></code></td></tr><tr id="type-expr.ObjField" class="anchored"><td class="def constructor"><a href="#type-expr.ObjField" class="anchor"></a><code>| </code><code><span class="constructor">ObjField</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Field_name/index.html#type-t">Ast.Ast_types.Field_name.t</a></code></td><td class="doc"><p>First type is of the overall expr x.f, second is the type of the obj x</p></td></tr><tr id="type-expr.ObjMethod" class="anchored"><td class="def constructor"><a href="#type-expr.ObjMethod" class="anchor"></a><code>| </code><code><span class="constructor">ObjMethod</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Function_name/index.html#type-t">Ast.Ast_types.Function_name.t</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td><td class="doc"><p>First type is of the overall expr x.f, second is the type of the obj x</p></td></tr><tr id="type-expr.Assign" class="anchored"><td class="def constructor"><a href="#type-expr.Assign" class="anchor"></a><code>| </code><code><span class="constructor">Assign</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Field_name/index.html#type-t">Ast.Ast_types.Field_name.t</a> * <a href="index.html#type-expr">expr</a></code></td><td class="doc"><p>First type is of the expr, second is the type of the obj</p></td></tr><tr id="type-expr.Constructor" class="anchored"><td class="def constructor"><a href="#type-expr.Constructor" class="anchor"></a><code>| </code><code><span class="constructor">Constructor</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Class_name/index.html#type-t">Ast.Ast_types.Class_name.t</a> * <span><a href="index.html#type-constructor_arg">constructor_arg</a> list</span></code></td></tr><tr id="type-expr.Consume" class="anchored"><td class="def constructor"><a href="#type-expr.Consume" class="anchor"></a><code>| </code><code><span class="constructor">Consume</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="index.html#type-expr">expr</a></code></td><td class="doc"><p>type is that of the expr being consumed</p></td></tr><tr id="type-expr.FinishAsync" class="anchored"><td class="def constructor"><a href="#type-expr.FinishAsync" class="anchor"></a><code>| </code><code><span class="constructor">FinishAsync</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-expr">expr</a></code></td><td class="doc"><p>overall type is that of the next_expr</p></td></tr></table></dt><dd><p>Similar to Parsed AST, only we add an extra type_expr annotation to denote the overall type of the expression.</p></dd></dl><dl><dt class="spec type" id="type-constructor_arg"><a href="#type-constructor_arg" class="anchor"></a><code><span class="keyword">and</span> constructor_arg</code><code> = </code><table class="variant"><tr id="type-constructor_arg.ConstructorArg" class="anchored"><td class="def constructor"><a href="#type-constructor_arg.ConstructorArg" class="anchor"></a><code>| </code><code><span class="constructor">ConstructorArg</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <a href="../../../ast/Ast/Ast_types/Field_name/index.html#type-t">Ast.Ast_types.Field_name.t</a> * <a href="index.html#type-expr">expr</a></code></td></tr></table></dt><dt class="spec type" id="type-function_defn"><a href="#type-function_defn" class="anchor"></a><code><span class="keyword">type</span> function_defn</code><code> = </code><table class="variant"><tr id="type-function_defn.TFunction" class="anchored"><td class="def constructor"><a href="#type-function_defn.TFunction" class="anchor"></a><code>| </code><code><span class="constructor">TFunction</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Function_name/index.html#type-t">Ast.Ast_types.Function_name.t</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-param">Ast.Ast_types.param</a> list</span> * <a href="index.html#type-expr">expr</a></code></td></tr></table></dt><dt class="spec type" id="type-class_defn"><a href="#type-class_defn" class="anchor"></a><code><span class="keyword">type</span> class_defn</code><code> = </code><table class="variant"><tr id="type-class_defn.TClass" class="anchored"><td class="def constructor"><a href="#type-class_defn.TClass" class="anchor"></a><code>| </code><code><span class="constructor">TClass</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Class_name/index.html#type-t">Ast.Ast_types.Class_name.t</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-cap_trait">Ast.Ast_types.cap_trait</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-field_defn">Ast.Ast_types.field_defn</a> list</span> * <span><a href="index.html#type-function_defn">function_defn</a> list</span></code></td></tr></table></dt><dd><p>Class definitions consist of the class name, the trait it is implementing (with capability associated) and the fields and methods in the class</p></dd></dl><dl><dt class="spec type" id="type-program"><a href="#type-program" class="anchor"></a><code><span class="keyword">type</span> program</code><code> = </code><table class="variant"><tr id="type-program.Prog" class="anchored"><td class="def constructor"><a href="#type-program.Prog" class="anchor"></a><code>| </code><code><span class="constructor">Prog</span> <span class="keyword">of</span> <span><a href="index.html#type-class_defn">class_defn</a> list</span> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-trait_defn">Ast.Ast_types.trait_defn</a> list</span> * <span><a href="index.html#type-function_defn">function_defn</a> list</span> * <a href="index.html#type-expr">expr</a></code></td></tr></table></dt></dl></div></body></html>