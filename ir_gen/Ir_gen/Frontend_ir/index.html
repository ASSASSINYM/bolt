<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Frontend_ir (ir_gen.Ir_gen.Frontend_ir)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ir_gen</a> &#x00BB; <a href="../index.html">Ir_gen</a> &#x00BB; Frontend_ir</nav><h1>Module <code>Ir_gen.Frontend_ir</code></h1></header><aside><p>This IR is serialised to Protobuf, to be converted to LLVM IR in the middle/backend of the compiler. Therefore we simplify the types used to make it easier to deserialise.</p><p>We drop:</p><ul><li>type information about the expressions (only keeping function / method types)</li><li>the position (loc) since these were used for type error debugging.</li><li>modes / capabilities (as these are only used in the data-race type checker)</li><li>Const / Var modifiers for fields (again, these are used in Type Checking)</li><li>field names - fields are now just indices into a class struct.</li></ul><p>We also use strings for identifiers rather than the abstract ID signatures,</p><p>Methods are converted to functions, with the first argument being &quot;this&quot;</p><p>We copy across un_op / bin_op type information, as although these are the only AST types that remain unchanged, it makes sense to keep the AST interface in one file.</p></aside><dl><dt class="spec type" id="type-un_op"><a href="#type-un_op" class="anchor"></a><code><span class="keyword">type</span> un_op</code><code> = </code><table class="variant"><tr id="type-un_op.UnOpNot" class="anchored"><td class="def constructor"><a href="#type-un_op.UnOpNot" class="anchor"></a><code>| </code><code><span class="constructor">UnOpNot</span></code></td></tr><tr id="type-un_op.UnOpNeg" class="anchored"><td class="def constructor"><a href="#type-un_op.UnOpNeg" class="anchor"></a><code>| </code><code><span class="constructor">UnOpNeg</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-un_op_from_protobuf_bare"><a href="#val-un_op_from_protobuf_bare" class="anchor"></a><code><span class="keyword">val</span> un_op_from_protobuf_bare : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-un_op">un_op</a></code></dt><dt class="spec value" id="val-un_op_to_protobuf_bare"><a href="#val-un_op_to_protobuf_bare" class="anchor"></a><code><span class="keyword">val</span> un_op_to_protobuf_bare : <a href="index.html#type-un_op">un_op</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-un_op_from_protobuf"><a href="#val-un_op_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> un_op_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-un_op">un_op</a></code></dt><dt class="spec value" id="val-un_op_to_protobuf"><a href="#val-un_op_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> un_op_to_protobuf : <a href="index.html#type-un_op">un_op</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec value" id="val-string_of_un_op"><a href="#val-string_of_un_op" class="anchor"></a><code><span class="keyword">val</span> string_of_un_op : <a href="index.html#type-un_op">un_op</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-bin_op"><a href="#type-bin_op" class="anchor"></a><code><span class="keyword">type</span> bin_op</code><code> = </code><table class="variant"><tr id="type-bin_op.BinOpPlus" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpPlus" class="anchor"></a><code>| </code><code><span class="constructor">BinOpPlus</span></code></td></tr><tr id="type-bin_op.BinOpMinus" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpMinus" class="anchor"></a><code>| </code><code><span class="constructor">BinOpMinus</span></code></td></tr><tr id="type-bin_op.BinOpMult" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpMult" class="anchor"></a><code>| </code><code><span class="constructor">BinOpMult</span></code></td></tr><tr id="type-bin_op.BinOpIntDiv" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpIntDiv" class="anchor"></a><code>| </code><code><span class="constructor">BinOpIntDiv</span></code></td></tr><tr id="type-bin_op.BinOpRem" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpRem" class="anchor"></a><code>| </code><code><span class="constructor">BinOpRem</span></code></td></tr><tr id="type-bin_op.BinOpLessThan" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpLessThan" class="anchor"></a><code>| </code><code><span class="constructor">BinOpLessThan</span></code></td></tr><tr id="type-bin_op.BinOpLessThanEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpLessThanEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpLessThanEq</span></code></td></tr><tr id="type-bin_op.BinOpGreaterThan" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpGreaterThan" class="anchor"></a><code>| </code><code><span class="constructor">BinOpGreaterThan</span></code></td></tr><tr id="type-bin_op.BinOpGreaterThanEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpGreaterThanEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpGreaterThanEq</span></code></td></tr><tr id="type-bin_op.BinOpAnd" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpAnd" class="anchor"></a><code>| </code><code><span class="constructor">BinOpAnd</span></code></td></tr><tr id="type-bin_op.BinOpOr" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpOr" class="anchor"></a><code>| </code><code><span class="constructor">BinOpOr</span></code></td></tr><tr id="type-bin_op.BinOpEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpEq</span></code></td></tr><tr id="type-bin_op.BinOpNotEq" class="anchored"><td class="def constructor"><a href="#type-bin_op.BinOpNotEq" class="anchor"></a><code>| </code><code><span class="constructor">BinOpNotEq</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-bin_op_from_protobuf_bare"><a href="#val-bin_op_from_protobuf_bare" class="anchor"></a><code><span class="keyword">val</span> bin_op_from_protobuf_bare : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-bin_op">bin_op</a></code></dt><dt class="spec value" id="val-bin_op_to_protobuf_bare"><a href="#val-bin_op_to_protobuf_bare" class="anchor"></a><code><span class="keyword">val</span> bin_op_to_protobuf_bare : <a href="index.html#type-bin_op">bin_op</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-bin_op_from_protobuf"><a href="#val-bin_op_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> bin_op_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-bin_op">bin_op</a></code></dt><dt class="spec value" id="val-bin_op_to_protobuf"><a href="#val-bin_op_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> bin_op_to_protobuf : <a href="index.html#type-bin_op">bin_op</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec value" id="val-string_of_bin_op"><a href="#val-string_of_bin_op" class="anchor"></a><code><span class="keyword">val</span> string_of_bin_op : <a href="index.html#type-bin_op">bin_op</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-type_expr"><a href="#type-type_expr" class="anchor"></a><code><span class="keyword">type</span> type_expr</code><code> = </code><table class="variant"><tr id="type-type_expr.TEInt" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEInt" class="anchor"></a><code>| </code><code><span class="constructor">TEInt</span></code></td></tr><tr id="type-type_expr.TEClass" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEClass" class="anchor"></a><code>| </code><code><span class="constructor">TEClass</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-type_expr.TEVoid" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEVoid" class="anchor"></a><code>| </code><code><span class="constructor">TEVoid</span></code></td></tr><tr id="type-type_expr.TEBool" class="anchored"><td class="def constructor"><a href="#type-type_expr.TEBool" class="anchor"></a><code>| </code><code><span class="constructor">TEBool</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-type_expr_from_protobuf"><a href="#val-type_expr_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> type_expr_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-type_expr">type_expr</a></code></dt><dt class="spec value" id="val-type_expr_to_protobuf"><a href="#val-type_expr_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> type_expr_to_protobuf : <a href="index.html#type-type_expr">type_expr</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec value" id="val-string_of_type"><a href="#val-string_of_type" class="anchor"></a><code><span class="keyword">val</span> string_of_type : <a href="index.html#type-type_expr">type_expr</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-param"><a href="#type-param" class="anchor"></a><code><span class="keyword">type</span> param</code><code> = </code><table class="variant"><tr id="type-param.TParam" class="anchored"><td class="def constructor"><a href="#type-param.TParam" class="anchor"></a><code>| </code><code><span class="constructor">TParam</span> <span class="keyword">of</span> <a href="index.html#type-type_expr">type_expr</a> * string</code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-param_from_protobuf"><a href="#val-param_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> param_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-param">param</a></code></dt><dt class="spec value" id="val-param_to_protobuf"><a href="#val-param_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> param_to_protobuf : <a href="index.html#type-param">param</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec type" id="type-identifier"><a href="#type-identifier" class="anchor"></a><code><span class="keyword">type</span> identifier</code><code> = </code><table class="variant"><tr id="type-identifier.Variable" class="anchored"><td class="def constructor"><a href="#type-identifier.Variable" class="anchor"></a><code>| </code><code><span class="constructor">Variable</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-identifier.ObjField" class="anchored"><td class="def constructor"><a href="#type-identifier.ObjField" class="anchor"></a><code>| </code><code><span class="constructor">ObjField</span> <span class="keyword">of</span> string * int</code></td><td class="doc"><p>object name, field = index into class field types list</p></td></tr></table></dt></dl><dl><dt class="spec value" id="val-identifier_from_protobuf"><a href="#val-identifier_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> identifier_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-identifier">identifier</a></code></dt><dt class="spec value" id="val-identifier_to_protobuf"><a href="#val-identifier_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> identifier_to_protobuf : <a href="index.html#type-identifier">identifier</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec type" id="type-lock_type"><a href="#type-lock_type" class="anchor"></a><code><span class="keyword">type</span> lock_type</code><code> = </code><table class="variant"><tr id="type-lock_type.Reader" class="anchored"><td class="def constructor"><a href="#type-lock_type.Reader" class="anchor"></a><code>| </code><code><span class="constructor">Reader</span></code></td></tr><tr id="type-lock_type.Writer" class="anchored"><td class="def constructor"><a href="#type-lock_type.Writer" class="anchor"></a><code>| </code><code><span class="constructor">Writer</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-lock_type_from_protobuf_bare"><a href="#val-lock_type_from_protobuf_bare" class="anchor"></a><code><span class="keyword">val</span> lock_type_from_protobuf_bare : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-lock_type">lock_type</a></code></dt><dt class="spec value" id="val-lock_type_to_protobuf_bare"><a href="#val-lock_type_to_protobuf_bare" class="anchor"></a><code><span class="keyword">val</span> lock_type_to_protobuf_bare : <a href="index.html#type-lock_type">lock_type</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-lock_type_from_protobuf"><a href="#val-lock_type_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> lock_type_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-lock_type">lock_type</a></code></dt><dt class="spec value" id="val-lock_type_to_protobuf"><a href="#val-lock_type_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> lock_type_to_protobuf : <a href="index.html#type-lock_type">lock_type</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec value" id="val-string_of_lock_type"><a href="#val-string_of_lock_type" class="anchor"></a><code><span class="keyword">val</span> string_of_lock_type : <a href="index.html#type-lock_type">lock_type</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-expr"><a href="#type-expr" class="anchor"></a><code><span class="keyword">type</span> expr</code><code> = </code><table class="variant"><tr id="type-expr.Integer" class="anchored"><td class="def constructor"><a href="#type-expr.Integer" class="anchor"></a><code>| </code><code><span class="constructor">Integer</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-expr.Boolean" class="anchored"><td class="def constructor"><a href="#type-expr.Boolean" class="anchor"></a><code>| </code><code><span class="constructor">Boolean</span> <span class="keyword">of</span> bool</code></td></tr><tr id="type-expr.Identifier" class="anchored"><td class="def constructor"><a href="#type-expr.Identifier" class="anchor"></a><code>| </code><code><span class="constructor">Identifier</span> <span class="keyword">of</span> <a href="index.html#type-identifier">identifier</a> * <span><a href="index.html#type-lock_type">lock_type</a> option</span></code></td></tr><tr id="type-expr.Constructor" class="anchored"><td class="def constructor"><a href="#type-expr.Constructor" class="anchor"></a><code>| </code><code><span class="constructor">Constructor</span> <span class="keyword">of</span> string * <span><a href="index.html#type-constructor_arg">constructor_arg</a> list</span></code></td></tr><tr id="type-expr.Let" class="anchored"><td class="def constructor"><a href="#type-expr.Let" class="anchor"></a><code>| </code><code><span class="constructor">Let</span> <span class="keyword">of</span> string * <a href="index.html#type-expr">expr</a></code></td></tr><tr id="type-expr.Assign" class="anchored"><td class="def constructor"><a href="#type-expr.Assign" class="anchor"></a><code>| </code><code><span class="constructor">Assign</span> <span class="keyword">of</span> <a href="index.html#type-identifier">identifier</a> * <a href="index.html#type-expr">expr</a> * <span><a href="index.html#type-lock_type">lock_type</a> option</span></code></td></tr><tr id="type-expr.Consume" class="anchored"><td class="def constructor"><a href="#type-expr.Consume" class="anchor"></a><code>| </code><code><span class="constructor">Consume</span> <span class="keyword">of</span> <a href="index.html#type-identifier">identifier</a> * <span><a href="index.html#type-lock_type">lock_type</a> option</span></code></td></tr><tr id="type-expr.FunctionApp" class="anchored"><td class="def constructor"><a href="#type-expr.FunctionApp" class="anchor"></a><code>| </code><code><span class="constructor">FunctionApp</span> <span class="keyword">of</span> string * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr><tr id="type-expr.MethodApp" class="anchored"><td class="def constructor"><a href="#type-expr.MethodApp" class="anchor"></a><code>| </code><code><span class="constructor">MethodApp</span> <span class="keyword">of</span> string * string * <span><a href="index.html#type-expr">expr</a> list</span></code></td><td class="doc"><p>object name, method name, args</p></td></tr><tr id="type-expr.Printf" class="anchored"><td class="def constructor"><a href="#type-expr.Printf" class="anchor"></a><code>| </code><code><span class="constructor">Printf</span> <span class="keyword">of</span> string * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr><tr id="type-expr.FinishAsync" class="anchored"><td class="def constructor"><a href="#type-expr.FinishAsync" class="anchor"></a><code>| </code><code><span class="constructor">FinishAsync</span> <span class="keyword">of</span> <span><a href="index.html#type-async_expr">async_expr</a> list</span> * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr><tr id="type-expr.IfElse" class="anchored"><td class="def constructor"><a href="#type-expr.IfElse" class="anchor"></a><code>| </code><code><span class="constructor">IfElse</span> <span class="keyword">of</span> <a href="index.html#type-expr">expr</a> * <span><a href="index.html#type-expr">expr</a> list</span> * <span><a href="index.html#type-expr">expr</a> list</span></code></td><td class="doc"><p>If ___ then ___ else ___</p></td></tr><tr id="type-expr.WhileLoop" class="anchored"><td class="def constructor"><a href="#type-expr.WhileLoop" class="anchor"></a><code>| </code><code><span class="constructor">WhileLoop</span> <span class="keyword">of</span> <a href="index.html#type-expr">expr</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td><td class="doc"><p>While ___ do ___ ;</p></td></tr><tr id="type-expr.BinOp" class="anchored"><td class="def constructor"><a href="#type-expr.BinOp" class="anchor"></a><code>| </code><code><span class="constructor">BinOp</span> <span class="keyword">of</span> <a href="index.html#type-bin_op">bin_op</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-expr">expr</a></code></td></tr><tr id="type-expr.UnOp" class="anchored"><td class="def constructor"><a href="#type-expr.UnOp" class="anchor"></a><code>| </code><code><span class="constructor">UnOp</span> <span class="keyword">of</span> <a href="index.html#type-un_op">un_op</a> * <a href="index.html#type-expr">expr</a></code></td></tr><tr id="type-expr.Block" class="anchored"><td class="def constructor"><a href="#type-expr.Block" class="anchor"></a><code>| </code><code><span class="constructor">Block</span> <span class="keyword">of</span> <a href="index.html#type-exprs">exprs</a></code></td></tr><tr id="type-expr.Lock" class="anchored"><td class="def constructor"><a href="#type-expr.Lock" class="anchor"></a><code>| </code><code><span class="constructor">Lock</span> <span class="keyword">of</span> string * <a href="index.html#type-lock_type">lock_type</a></code></td></tr><tr id="type-expr.Unlock" class="anchored"><td class="def constructor"><a href="#type-expr.Unlock" class="anchor"></a><code>| </code><code><span class="constructor">Unlock</span> <span class="keyword">of</span> string * <a href="index.html#type-lock_type">lock_type</a></code></td></tr></table></dt><dt class="spec type" id="type-exprs"><a href="#type-exprs" class="anchor"></a><code><span class="keyword">and</span> exprs</code><code> = <span><a href="index.html#type-expr">expr</a> list</span></code></dt><dd><p>Helper type to generate protobuf for expr list list</p></dd></dl><dl><dt class="spec type" id="type-async_expr"><a href="#type-async_expr" class="anchor"></a><code><span class="keyword">and</span> async_expr</code><code> = </code><table class="variant"><tr id="type-async_expr.AsyncExpr" class="anchored"><td class="def constructor"><a href="#type-async_expr.AsyncExpr" class="anchor"></a><code>| </code><code><span class="constructor">AsyncExpr</span> <span class="keyword">of</span> <span>string list</span> * <a href="index.html#type-exprs">exprs</a></code></td></tr></table></dt><dd><p>Async exprs have a precomputed list of their free variables (passed as arguments when they are spawned as thread)</p></dd></dl><dl><dt class="spec type" id="type-constructor_arg"><a href="#type-constructor_arg" class="anchor"></a><code><span class="keyword">and</span> constructor_arg</code><code> = </code><table class="variant"><tr id="type-constructor_arg.ConstructorArg" class="anchored"><td class="def constructor"><a href="#type-constructor_arg.ConstructorArg" class="anchor"></a><code>| </code><code><span class="constructor">ConstructorArg</span> <span class="keyword">of</span> int * <a href="index.html#type-expr">expr</a></code></td></tr></table></dt><dd><p><code>int</code>=field_index, <code>expr</code> = assigned value</p></dd></dl><dl><dt class="spec value" id="val-expr_from_protobuf"><a href="#val-expr_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> expr_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-expr">expr</a></code></dt><dt class="spec value" id="val-expr_to_protobuf"><a href="#val-expr_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> expr_to_protobuf : <a href="index.html#type-expr">expr</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-exprs_from_protobuf"><a href="#val-exprs_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> exprs_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-exprs">exprs</a></code></dt><dt class="spec value" id="val-exprs_to_protobuf"><a href="#val-exprs_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> exprs_to_protobuf : <a href="index.html#type-exprs">exprs</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-async_expr_from_protobuf"><a href="#val-async_expr_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> async_expr_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-async_expr">async_expr</a></code></dt><dt class="spec value" id="val-async_expr_to_protobuf"><a href="#val-async_expr_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> async_expr_to_protobuf : <a href="index.html#type-async_expr">async_expr</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-constructor_arg_from_protobuf"><a href="#val-constructor_arg_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> constructor_arg_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-constructor_arg">constructor_arg</a></code></dt><dt class="spec value" id="val-constructor_arg_to_protobuf"><a href="#val-constructor_arg_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> constructor_arg_to_protobuf : <a href="index.html#type-constructor_arg">constructor_arg</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec type" id="type-function_defn"><a href="#type-function_defn" class="anchor"></a><code><span class="keyword">type</span> function_defn</code><code> = </code><table class="variant"><tr id="type-function_defn.TFunction" class="anchored"><td class="def constructor"><a href="#type-function_defn.TFunction" class="anchor"></a><code>| </code><code><span class="constructor">TFunction</span> <span class="keyword">of</span> string * <a href="index.html#type-type_expr">type_expr</a> * <span><a href="index.html#type-param">param</a> list</span> * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr></table></dt><dd><p>Function defn consists of the function name, return type, the list of params, and the body expr block of the function</p></dd></dl><dl><dt class="spec value" id="val-function_defn_from_protobuf"><a href="#val-function_defn_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> function_defn_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-function_defn">function_defn</a></code></dt><dt class="spec value" id="val-function_defn_to_protobuf"><a href="#val-function_defn_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> function_defn_to_protobuf : <a href="index.html#type-function_defn">function_defn</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec type" id="type-class_defn"><a href="#type-class_defn" class="anchor"></a><code><span class="keyword">type</span> class_defn</code><code> = </code><table class="variant"><tr id="type-class_defn.TClass" class="anchored"><td class="def constructor"><a href="#type-class_defn.TClass" class="anchor"></a><code>| </code><code><span class="constructor">TClass</span> <span class="keyword">of</span> string * <span><a href="index.html#type-type_expr">type_expr</a> list</span> * <span>string list</span></code></td></tr></table></dt><dd><p>Class definitions consist of the class name, the list of the types of its fields and a vtable. Its methods are now plain old functions</p></dd></dl><dl><dt class="spec value" id="val-class_defn_from_protobuf"><a href="#val-class_defn_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> class_defn_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-class_defn">class_defn</a></code></dt><dt class="spec value" id="val-class_defn_to_protobuf"><a href="#val-class_defn_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> class_defn_to_protobuf : <a href="index.html#type-class_defn">class_defn</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec type" id="type-program"><a href="#type-program" class="anchor"></a><code><span class="keyword">type</span> program</code><code> = </code><table class="variant"><tr id="type-program.Prog" class="anchored"><td class="def constructor"><a href="#type-program.Prog" class="anchor"></a><code>| </code><code><span class="constructor">Prog</span> <span class="keyword">of</span> <span><a href="index.html#type-class_defn">class_defn</a> list</span> * <span><a href="index.html#type-function_defn">function_defn</a> list</span> * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr></table></dt><dd><p>Each bolt program defines the classes,followed by functions, followed by the main expression block to execute.</p></dd></dl><dl><dt class="spec value" id="val-program_from_protobuf"><a href="#val-program_from_protobuf" class="anchor"></a><code><span class="keyword">val</span> program_from_protobuf : Protobuf.Decoder.t <span>&#45;&gt;</span> <a href="index.html#type-program">program</a></code></dt><dt class="spec value" id="val-program_to_protobuf"><a href="#val-program_to_protobuf" class="anchor"></a><code><span class="keyword">val</span> program_to_protobuf : <a href="index.html#type-program">program</a> <span>&#45;&gt;</span> Protobuf.Encoder.t <span>&#45;&gt;</span> unit</code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div></div></body></html>