<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parsed_ast (parsing.Parsing.Parsed_ast)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">parsing</a> &#x00BB; <a href="../index.html">Parsing</a> &#x00BB; Parsed_ast</nav><h1>Module <code>Parsing.Parsed_ast</code></h1></header><aside><p>This module specifies the structure of the parsed AST</p></aside><dl><dt class="spec type" id="type-identifier"><a href="#type-identifier" class="anchor"></a><code><span class="keyword">type</span> identifier</code><code> = </code><table class="variant"><tr id="type-identifier.Variable" class="anchored"><td class="def constructor"><a href="#type-identifier.Variable" class="anchor"></a><code>| </code><code><span class="constructor">Variable</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a></code></td></tr><tr id="type-identifier.ObjField" class="anchored"><td class="def constructor"><a href="#type-identifier.ObjField" class="anchor"></a><code>| </code><code><span class="constructor">ObjField</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="../../../ast/Ast/Ast_types/Field_name/index.html#type-t">Ast.Ast_types.Field_name.t</a></code></td></tr></table></dt><dt class="spec type" id="type-expr"><a href="#type-expr" class="anchor"></a><code><span class="keyword">type</span> expr</code><code> = </code><table class="variant"><tr id="type-expr.Integer" class="anchored"><td class="def constructor"><a href="#type-expr.Integer" class="anchor"></a><code>| </code><code><span class="constructor">Integer</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * int</code></td></tr><tr id="type-expr.Boolean" class="anchored"><td class="def constructor"><a href="#type-expr.Boolean" class="anchor"></a><code>| </code><code><span class="constructor">Boolean</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * bool</code></td></tr><tr id="type-expr.Identifier" class="anchored"><td class="def constructor"><a href="#type-expr.Identifier" class="anchor"></a><code>| </code><code><span class="constructor">Identifier</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="index.html#type-identifier">identifier</a></code></td></tr><tr id="type-expr.Constructor" class="anchored"><td class="def constructor"><a href="#type-expr.Constructor" class="anchor"></a><code>| </code><code><span class="constructor">Constructor</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/Class_name/index.html#type-t">Ast.Ast_types.Class_name.t</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> option</span> * <span><a href="index.html#type-constructor_arg">constructor_arg</a> list</span></code></td><td class="doc"><p>optional type-parameter</p></td></tr><tr id="type-expr.Let" class="anchored"><td class="def constructor"><a href="#type-expr.Let" class="anchor"></a><code>| </code><code><span class="constructor">Let</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> option</span> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="index.html#type-expr">expr</a></code></td><td class="doc"><p>binds variable to expression (optional type annotation)</p></td></tr><tr id="type-expr.Assign" class="anchored"><td class="def constructor"><a href="#type-expr.Assign" class="anchor"></a><code>| </code><code><span class="constructor">Assign</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="index.html#type-identifier">identifier</a> * <a href="index.html#type-expr">expr</a></code></td></tr><tr id="type-expr.Consume" class="anchored"><td class="def constructor"><a href="#type-expr.Consume" class="anchor"></a><code>| </code><code><span class="constructor">Consume</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="index.html#type-identifier">identifier</a></code></td></tr><tr id="type-expr.MethodApp" class="anchored"><td class="def constructor"><a href="#type-expr.MethodApp" class="anchor"></a><code>| </code><code><span class="constructor">MethodApp</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/Var_name/index.html#type-t">Ast.Ast_types.Var_name.t</a> * <a href="../../../ast/Ast/Ast_types/Method_name/index.html#type-t">Ast.Ast_types.Method_name.t</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td><td class="doc"><p>read as x.m(args)</p></td></tr><tr id="type-expr.FunctionApp" class="anchored"><td class="def constructor"><a href="#type-expr.FunctionApp" class="anchor"></a><code>| </code><code><span class="constructor">FunctionApp</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/Function_name/index.html#type-t">Ast.Ast_types.Function_name.t</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr><tr id="type-expr.Printf" class="anchored"><td class="def constructor"><a href="#type-expr.Printf" class="anchor"></a><code>| </code><code><span class="constructor">Printf</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * string * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr><tr id="type-expr.FinishAsync" class="anchored"><td class="def constructor"><a href="#type-expr.FinishAsync" class="anchor"></a><code>| </code><code><span class="constructor">FinishAsync</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <span><a href="index.html#type-async_expr">async_expr</a> list</span> * <a href="index.html#type-block_expr">block_expr</a></code></td><td class="doc"><p>a list async exprs and the current thread's expr</p></td></tr><tr id="type-expr.If" class="anchored"><td class="def constructor"><a href="#type-expr.If" class="anchor"></a><code>| </code><code><span class="constructor">If</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-block_expr">block_expr</a> * <a href="index.html#type-block_expr">block_expr</a></code></td><td class="doc"><p>If ___ then ___ else ___</p></td></tr><tr id="type-expr.While" class="anchored"><td class="def constructor"><a href="#type-expr.While" class="anchor"></a><code>| </code><code><span class="constructor">While</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-block_expr">block_expr</a></code></td><td class="doc"><p>While ___ do ___</p></td></tr><tr id="type-expr.For" class="anchored"><td class="def constructor"><a href="#type-expr.For" class="anchor"></a><code>| </code><code><span class="constructor">For</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-block_expr">block_expr</a></code></td><td class="doc"><p>For(init_expr; cond_expr ; step_expr) body_expr</p></td></tr><tr id="type-expr.BinOp" class="anchored"><td class="def constructor"><a href="#type-expr.BinOp" class="anchor"></a><code>| </code><code><span class="constructor">BinOp</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-bin_op">Ast.Ast_types.bin_op</a> * <a href="index.html#type-expr">expr</a> * <a href="index.html#type-expr">expr</a></code></td></tr><tr id="type-expr.UnOp" class="anchored"><td class="def constructor"><a href="#type-expr.UnOp" class="anchor"></a><code>| </code><code><span class="constructor">UnOp</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <a href="../../../ast/Ast/Ast_types/index.html#type-un_op">Ast.Ast_types.un_op</a> * <a href="index.html#type-expr">expr</a></code></td></tr></table></dt><dd><p>Possible executable expressions - note we pass in the location of the start token to provide useful debugging information - which line + position the parsing errors occurred</p></dd></dl><dl><dt class="spec type" id="type-block_expr"><a href="#type-block_expr" class="anchor"></a><code><span class="keyword">and</span> block_expr</code><code> = </code><table class="variant"><tr id="type-block_expr.Block" class="anchored"><td class="def constructor"><a href="#type-block_expr.Block" class="anchor"></a><code>| </code><code><span class="constructor">Block</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/index.html#type-loc">Ast.Ast_types.loc</a> * <span><a href="index.html#type-expr">expr</a> list</span></code></td></tr></table></dt><dt class="spec type" id="type-async_expr"><a href="#type-async_expr" class="anchor"></a><code><span class="keyword">and</span> async_expr</code><code> = </code><table class="variant"><tr id="type-async_expr.AsyncExpr" class="anchored"><td class="def constructor"><a href="#type-async_expr.AsyncExpr" class="anchor"></a><code>| </code><code><span class="constructor">AsyncExpr</span> <span class="keyword">of</span> <a href="index.html#type-block_expr">block_expr</a></code></td></tr></table></dt><dt class="spec type" id="type-constructor_arg"><a href="#type-constructor_arg" class="anchor"></a><code><span class="keyword">and</span> constructor_arg</code><code> = </code><table class="variant"><tr id="type-constructor_arg.ConstructorArg" class="anchored"><td class="def constructor"><a href="#type-constructor_arg.ConstructorArg" class="anchor"></a><code>| </code><code><span class="constructor">ConstructorArg</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Field_name/index.html#type-t">Ast.Ast_types.Field_name.t</a> * <a href="index.html#type-expr">expr</a></code></td></tr></table></dt><dt class="spec type" id="type-function_defn"><a href="#type-function_defn" class="anchor"></a><code><span class="keyword">type</span> function_defn</code><code> = </code><table class="variant"><tr id="type-function_defn.TFunction" class="anchored"><td class="def constructor"><a href="#type-function_defn.TFunction" class="anchor"></a><code>| </code><code><span class="constructor">TFunction</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Function_name/index.html#type-t">Ast.Ast_types.Function_name.t</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-borrowed_ref">Ast.Ast_types.borrowed_ref</a> option</span> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-param">Ast.Ast_types.param</a> list</span> * <a href="index.html#type-block_expr">block_expr</a></code></td></tr></table></dt><dd><p>Function defn consists of the function name, return type (and whether it returns a borrowed ref), the list of params, and the body expr of the function</p></dd></dl><dl><dt class="spec type" id="type-method_defn"><a href="#type-method_defn" class="anchor"></a><code><span class="keyword">type</span> method_defn</code><code> = </code><table class="variant"><tr id="type-method_defn.TMethod" class="anchored"><td class="def constructor"><a href="#type-method_defn.TMethod" class="anchor"></a><code>| </code><code><span class="constructor">TMethod</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Method_name/index.html#type-t">Ast.Ast_types.Method_name.t</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-borrowed_ref">Ast.Ast_types.borrowed_ref</a> option</span> * <a href="../../../ast/Ast/Ast_types/index.html#type-type_expr">Ast.Ast_types.type_expr</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-param">Ast.Ast_types.param</a> list</span> * <span><a href="../../../ast/Ast/Ast_types/Capability_name/index.html#type-t">Ast.Ast_types.Capability_name.t</a> list</span> * <a href="index.html#type-block_expr">block_expr</a></code></td></tr></table></dt><dd><p>Method defn consists the method name, return type (and whether it returns a borrowed ref), the list of params, the capabilities used and the body expr of the function</p></dd></dl><dl><dt class="spec type" id="type-class_defn"><a href="#type-class_defn" class="anchor"></a><code><span class="keyword">type</span> class_defn</code><code> = </code><table class="variant"><tr id="type-class_defn.TClass" class="anchored"><td class="def constructor"><a href="#type-class_defn.TClass" class="anchor"></a><code>| </code><code><span class="constructor">TClass</span> <span class="keyword">of</span> <a href="../../../ast/Ast/Ast_types/Class_name/index.html#type-t">Ast.Ast_types.Class_name.t</a> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-generic_type">Ast.Ast_types.generic_type</a> option</span> * <span><a href="../../../ast/Ast/Ast_types/Class_name/index.html#type-t">Ast.Ast_types.Class_name.t</a> option</span> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-capability">Ast.Ast_types.capability</a> list</span> * <span><a href="../../../ast/Ast/Ast_types/index.html#type-field_defn">Ast.Ast_types.field_defn</a> list</span> * <span><a href="index.html#type-method_defn">method_defn</a> list</span></code></td></tr></table></dt><dd><p>Class definitions consist of the class name and optionally specifying if generic and if it inherits from another class, its capabilities and the fields and methods in the class</p></dd></dl><dl><dt class="spec type" id="type-program"><a href="#type-program" class="anchor"></a><code><span class="keyword">type</span> program</code><code> = </code><table class="variant"><tr id="type-program.Prog" class="anchored"><td class="def constructor"><a href="#type-program.Prog" class="anchor"></a><code>| </code><code><span class="constructor">Prog</span> <span class="keyword">of</span> <span><a href="index.html#type-class_defn">class_defn</a> list</span> * <span><a href="index.html#type-function_defn">function_defn</a> list</span> * <a href="index.html#type-block_expr">block_expr</a></code></td></tr></table></dt><dd><p>Each bolt program defines the classes,followed by functions, followed by the main expression block to execute.</p></dd></dl></div></body></html>