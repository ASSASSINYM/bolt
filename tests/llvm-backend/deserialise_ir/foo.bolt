(* Not used in test (.compiled) is, but kept for reading *)
class Foo  {
  capability linear Bar;
  var int f : Bar;
  const int g : Bar;  
  const int h : Bar;

}
class Choco  {
  capability linear Late;
  const int l : Late;  

}
class Ban  {
  capability linear Ana;
  var int v : Ana;
  const int w : Ana;  

}
function int f (int x ){ x}
void main(){
  let x = new Foo(f:5);
  finish {
    async{
      f(5);
      f(5)
    };
    async{
      let w = new Foo(g:5);
      w.f := if ( w.f < 5) && (w.f >=1){
        5+1
      }
      else{
        3
      }
    }
    x
  }
}
