----- Step 0 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ CONSTRUCTOR(Foo); BIND(x); CONSTRUCTOR(Foo); BIND(y); PUSH(Int: 5); STACK_LOOKUP(x); HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [  ]
Heap: [  ]
------------------------------------------
----- Step 1 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ BIND(x); CONSTRUCTOR(Foo); BIND(y); PUSH(Int: 5); STACK_LOOKUP(x); HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Value: Address: 1 ]
Heap: [ 1 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 2 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ CONSTRUCTOR(Foo); BIND(y); PUSH(Int: 5); STACK_LOOKUP(x); HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 3 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ BIND(y); PUSH(Int: 5); STACK_LOOKUP(x); HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Value: Address: 2, Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: {  } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 4 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ PUSH(Int: 5); STACK_LOOKUP(x); HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Env: [ y -> Address: 2 ], Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: {  } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 5 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ STACK_LOOKUP(x); HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Value: Int: 5, Env: [ y -> Address: 2 ], Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: {  } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 6 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ HEAP_FIELD_SET(f); HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Value: Address: 1, Value: Int: 5, Env: [ y -> Address: 2 ], Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: {  } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 7 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ HEAP_FIELD_LOOKUP(f); SWAP; POP; SWAP; POP ]
   └──Stack: [ Value: Address: 1, Env: [ y -> Address: 2 ], Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: { f: Int: 5 } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 8 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ SWAP; POP; SWAP; POP ]
   └──Stack: [ Value: Int: 5, Env: [ y -> Address: 2 ], Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: { f: Int: 5 } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 9 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ POP; SWAP; POP ]
   └──Stack: [ Env: [ y -> Address: 2 ], Value: Int: 5, Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: { f: Int: 5 } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 10 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ SWAP; POP ]
   └──Stack: [ Value: Int: 5, Env: [ x -> Address: 1 ] ]
Heap: [ 1 -> { Class_name: Foo, Fields: { f: Int: 5 } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 11 - scheduled thread : 1-----
Threads:
└──Thread: 1
   └──Instructions: [ POP ]
   └──Stack: [ Env: [ x -> Address: 1 ], Value: Int: 5 ]
Heap: [ 1 -> { Class_name: Foo, Fields: { f: Int: 5 } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
----- Step 12 - OUTPUT STATE --------
Threads:
└──Thread: 1
   └──Instructions: [  ]
   └──Stack: [ Value: Int: 5 ]
Heap: [ 1 -> { Class_name: Foo, Fields: { f: Int: 5 } }, 2 -> { Class_name: Foo, Fields: {  } } ]
------------------------------------------
Output: Int: 5
